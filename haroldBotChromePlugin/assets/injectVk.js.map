{"version":3,"sources":["webpack:///webpack/bootstrap 57ac57bb337ee5c4065b","webpack:///./injectVk.js"],"names":["createHandler","arr","val","e","target","innerHTML","indexOf","push","composeSongName","performers","songs","$","on","sendName","name","Promise","resolve","chrome","storage","sync","get","data","lastSongName","console","log","set","songName","then","shift"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;AC7DA;;AAEA,SAASA,aAAT,CAAuBC,GAAvB,EAA4B;AAC3B,QAAO,aAAK;AACX,MAAIC,MAAMC,EAAEC,MAAF,CAASC,SAAnB;AACA,MAAIJ,IAAIK,OAAJ,CAAYJ,GAAZ,KAAoB,CAAC,CAArB,IAA0BA,GAA9B,EAAmC;AAClCD,OAAIM,IAAJ,CAASL,GAAT;AACAM;AACA;AACD,EAND;AAOA;;AAED,IAAIC,aAAa,EAAjB;AAAA,IACCC,QAAQ,EADT;;AAGAC,EAAE,MAAF,EACEC,EADF,CACK,oBADL,EAC2B,oCAD3B,EACiEZ,cAAcS,UAAd,CADjE,EAEEG,EAFF,CAEK,oBAFL,EAE2B,+BAF3B,EAE4DZ,cAAcU,KAAd,CAF5D;;AAIA,SAASG,QAAT,CAAmBC,IAAnB,EAAyB;AACxB,QAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC/BC,SAAOC,OAAP,CAAeC,IAAf,CAAoBC,GAApB,CAAwB,cAAxB,EAAwC,UAACC,IAAD,EAAU;AACjD,OAAIA,KAAKC,YAAL,IAAqBR,IAAzB,EAA+B;AAC9BS,YAAQC,GAAR,CAAY,uBAAZ,EAAqCV,IAArC;AACAG,WAAOC,OAAP,CAAeC,IAAf,CAAoBM,GAApB,CAAwB,EAAC,gBAAgBX,IAAjB,EAAxB,EAAgDE,OAAhD;AACA,IAHD,MAGOA;AACP,GALD;AAMA,EAPM,CAAP;AAQA;;AAED,SAASR,eAAT,GAA4B;AAC3B,KAAIC,WAAW,CAAX,KAAiBC,MAAM,CAAN,CAArB,EAA+B;AAC9B,MAAIgB,WAAWjB,WAAW,CAAX,IAAgBC,MAAM,CAAN,CAA/B;AACAG,WAAUa,QAAV,EACEC,IADF,CACO,YAAM;AACXlB,cAAWmB,KAAX;AACAlB,SAAMkB,KAAN;AACA,GAJF;AAKA;AACD,C","file":"injectVk.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 57ac57bb337ee5c4065b","'use strict'\r\n\r\nfunction createHandler(arr) {\r\n\treturn e => {\r\n\t\tlet val = e.target.innerHTML\r\n\t\tif (arr.indexOf(val) == -1 && val) {\r\n\t\t\tarr.push(val)\r\n\t\t\tcomposeSongName()\r\n\t\t}\r\n\t}\r\n}\r\n\r\nvar performers = [],\r\n\tsongs = [];\r\n\r\n$('body')\n\t.on(\"DOMSubtreeModified\", '.audio_page_player_title_performer', createHandler(performers) )\n\t.on(\"DOMSubtreeModified\", '.audio_page_player_title_song', createHandler(songs) )\r\n\r\nfunction sendName (name) {\r\n\treturn new Promise((resolve) => {\r\n\t\tchrome.storage.sync.get(\"lastSongName\", (data) => {\r\n\t\t\tif (data.lastSongName != name) {\r\n\t\t\t\tconsole.log(\"set last song name to\", name);\r\n\t\t\t\tchrome.storage.sync.set({\"lastSongName\": name}, resolve)\r\n\t\t\t} else resolve()\r\n\t\t})\r\n\t})\r\n}\r\n\r\nfunction composeSongName () {\r\n\tif (performers[0] && songs[0]) {\r\n\t\tlet songName = performers[0] + songs[0]\r\n\t\tsendName( songName )\r\n\t\t\t.then(() => {\r\n\t\t\t\tperformers.shift()\r\n\t\t\t\tsongs.shift()\r\n\t\t\t})\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./injectVk.js"],"sourceRoot":""}